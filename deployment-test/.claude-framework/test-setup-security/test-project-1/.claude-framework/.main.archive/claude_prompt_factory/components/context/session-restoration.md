<prompt_component>
  <step name="Session Restoration and Continuity">
    <description>
Advanced session restoration system that intelligently reconstructs and restores development sessions with complete context preservation. Provides seamless session continuity, state recovery, and adaptive context management for uninterrupted development workflows.
    </description>
  </step>

  <session_restoration>
    <state_reconstruction>
      <context_recovery>
        <!-- Restore complete session context -->
        <conversation_restoration>
          - Reconstruct conversation history and context
          - Restore key decisions and discussion threads
          - Recover technical context and problem-solving state
          - Rebuild user preferences and customizations
        </conversation_restoration>
        
        <workspace_restoration>
          - Restore active files and editing context
          - Recover project structure and navigation state
          - Rebuild debugging and analysis context
          - Restore tool configurations and settings
        </workspace_restoration>
      </context_recovery>
      
      <intelligent_prioritization>
        <!-- Intelligently prioritize restoration elements -->
        <critical_context>
          - Prioritize active tasks and immediate objectives
          - Restore current problem-solving context first
          - Recover critical debugging and error states
          - Rebuild essential project configuration
        </critical_context>
        
        <progressive_loading>
          - Load critical context immediately for quick resumption
          - Progressively restore supporting context and history
          - Lazy-load detailed historical information
          - Optimize restoration speed vs. completeness trade-offs
        </progressive_loading>
      </intelligent_prioritization>
    </state_reconstruction>
    
    <continuity_management>
      <seamless_transition>
        <!-- Ensure seamless session transition -->
        <context_bridging>
          - Bridge context gaps between sessions
          - Provide session transition summaries
          - Highlight changes and updates since last session
          - Ensure continuity of thought and workflow
        </context_bridging>
        
        <adaptive_resumption>
          - Adapt restoration based on time gap and context changes
          - Provide different restoration strategies for different scenarios
          - Handle interrupted vs. planned session endings
          - Optimize for different session types and contexts
        </adaptive_resumption>
      </seamless_transition>
      
      <validation_verification>
        <!-- Validate and verify restored context -->
        <context_integrity>
          - Verify completeness of restored context
          - Validate consistency of restored state
          - Check for missing or corrupted information
          - Ensure all critical context is accessible
        </context_integrity>
        
        <user_confirmation>
          - Present restoration summary to user
          - Allow user verification and correction of context
          - Provide options for manual context adjustment
          - Enable user feedback on restoration quality
        </user_confirmation>
      </validation_verification>
    </continuity_management>
    
    <optimization_learning>
      <restoration_analytics>
        <!-- Analyze restoration effectiveness -->
        <performance_metrics>
          - Measure restoration speed and completeness
          - Track user satisfaction with restored context
          - Analyze restoration accuracy and relevance
          - Monitor session continuity effectiveness
        </performance_metrics>
        
        <usage_patterns>
          - Learn from session usage and restoration patterns
          - Identify most valuable context elements
          - Optimize restoration priorities based on usage
          - Improve restoration strategies over time
        </usage_patterns>
      </restoration_analytics>
      
      <adaptive_improvement>
        <!-- Continuously improve restoration quality -->
        <strategy_optimization>
          - Optimize restoration strategies based on feedback
          - Improve context prioritization algorithms
          - Enhance restoration speed and accuracy
          - Adapt to changing user needs and preferences
        </strategy_optimization>
        
        <predictive_restoration>
          - Predict likely restoration needs and requirements
          - Pre-load anticipated context elements
          - Optimize restoration for expected workflows
          - Proactively prepare for session resumption
        </predictive_restoration>
      </adaptive_improvement>
    </optimization_learning>
  </session_restoration>

  <o>
Session restoration completed with intelligent context recovery and continuity:

**Restoration Status:** [success/partial/failed] with [percentage]% context recovery
**Critical Context:** 100% critical context (tasks, debugging, configuration) restored
**Restoration Time:** [timing] total session restoration completion time
**Context Integrity:** [percentage]% context consistency and completeness verified
**User Satisfaction:** [rating] user satisfaction with restored session quality
**Continuity Score:** [0-100] session workflow continuity effectiveness
  </o>
</prompt_component> 