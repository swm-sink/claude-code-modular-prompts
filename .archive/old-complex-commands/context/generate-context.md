---
name: generate-context
description: Context engineering system for multi-file hierarchical context creation
usage: "generate-context [design|create|validate|optimize]"
allowed-tools: [Read, Write, Edit, MultiEdit, Bash, Grep, Glob, LS, TodoWrite]
category: deep-discovery
version: "1.0"
---

# Generate Context: Advanced Context Engineering System

## Purpose: Multi-File Hierarchical Context Architecture

The `/generate-context` command creates sophisticated multi-file hierarchical context systems that transform Claude from generic assistant to specialized project expert. Using project DNA from consultation and evidence-based patterns from research, it engineers context that makes Claude truly understand your specific project.

**Context Engineering Philosophy**: Hierarchical over flat, specific over generic, validated over assumed, maintainable over complex.

## Depth vs Speed: Why Context Architecture Matters

**❌ Failed Simple Context Approach**:
- Single CLAUDE.md file with everything
- Generic placeholder text
- No hierarchy or inheritance
- Token waste with irrelevant context
- No validation of effectiveness

**✅ Our Multi-File Hierarchical Approach**:
- Strategic context layering with inheritance
- Domain-specific context files
- Token-optimized context loading
- Validated effectiveness testing
- Maintainable context evolution

## Context Architecture Design

### Layer 1: Foundation Context (Always Loaded)
**File**: `CLAUDE.md` (Project memory and core identity)
```markdown
# Project Core Identity & Standards
- Project purpose and domain
- Critical architectural decisions
- Team workflow essentials
- Anti-patterns specific to this project
- Context navigation guide
```

### Layer 2: Domain Context (Conditionally Loaded)
**Files**: `.claude/context/domain/`
```
domain/
├── business-rules.md     # Core domain logic
├── user-workflows.md     # User journey patterns
├── terminology.md        # Domain-specific vocabulary
└── data-models.md        # Key data structures
```

### Layer 3: Technical Context (Stack-Specific)
**Files**: `.claude/context/technical/`
```
technical/
├── architecture.md       # System architecture
├── frameworks.md         # Framework-specific patterns
├── deployment.md         # Infrastructure and deployment
├── testing.md           # Testing strategies
└── performance.md       # Performance considerations
```

### Layer 4: Workflow Context (Team-Specific)
**Files**: `.claude/context/workflows/`
```
workflows/
├── development.md        # Dev workflow and standards
├── code-review.md       # Review processes
├── deployment.md        # Deployment procedures
├── troubleshooting.md   # Common issues and solutions
└── onboarding.md        # New team member guide
```

### Layer 5: Agent Context (Specialized Assistants)
**Files**: `.claude/context/agents/`
```
agents/
├── domain-expert.md      # Business logic specialist
├── architect.md          # Technical architecture advisor
├── reviewer.md           # Code review assistant
└── debugger.md          # Troubleshooting specialist
```

## Context Generation Process

### Phase 1: Architecture Design (3-5 minutes)
```
Context Architecture Planning:
├── Project DNA analysis → Context layer requirements
├── Token budget allocation → Layer loading strategies
├── Inheritance hierarchy design → Context relationships
├── Navigation pattern creation → User access patterns
└── Maintenance strategy → Context evolution planning
```

### Phase 2: Content Generation (5-8 minutes)
```
Multi-File Context Creation:
├── Foundation context (CLAUDE.md) optimization
├── Domain context extraction from consultation
├── Technical context from patterns and stack analysis
├── Workflow context from team dynamics
└── Agent context for specialized assistance
```

### Phase 3: Integration & Validation (2-4 minutes)
```
Context System Integration:
├── Cross-reference validation → No conflicts
├── Navigation testing → Easy context discovery
├── Token optimization → Efficient loading
├── Effectiveness testing → Before/after comparison
└── User acceptance → Final approval
```

## User Control & Customization

**Architecture Approval**:
- User reviews proposed context hierarchy
- Modifications to layer structure and content
- Priority adjustments for different context areas
- Custom context categories for unique project needs

**Content Validation**:
- Line-by-line review of generated context
- Corrections and expansions of extracted information
- Addition of missing critical context
- Removal of irrelevant or incorrect content

**Loading Preferences**:
- Custom context loading patterns
- Priority adjustments for different work modes
- Personal productivity optimizations
- Team-wide context sharing settings

## Usage Examples

### Context Architecture Design
```bash
/generate-context design
# Analyzes project DNA and patterns
# Proposes multi-file context hierarchy
# Estimates token usage and performance
# Gets user approval for architecture
```

### Context System Creation
```bash
/generate-context create
# Generates all context files based on approved architecture
# Populates with consultation intelligence and research patterns
# Creates navigation and inheritance relationships
# Sets up token optimization strategies
```

### Context Effectiveness Validation
```bash
/generate-context validate
# Runs before/after Claude response testing
# Measures context effectiveness improvements
# Identifies gaps or issues in generated context
# Provides optimization recommendations
```

### Context System Optimization
```bash
/generate-context optimize
# Analyzes context usage patterns and performance
# Optimizes token allocation and loading strategies
# Removes redundant or unused context
# Improves context hierarchy and relationships
```

## Integration with Deep Discovery System

**Input from Consultation**:
- Project DNA provides domain context content
- Technical patterns inform architecture context
- Team workflows guide process context
- Strategic vision shapes evolution planning

**Output to Agent Development**:
- Context architecture informs agent specialization
- Domain context defines agent expertise areas
- Technical context guides agent capabilities
- Workflow context shapes agent interactions

## Context Validation Framework

### Effectiveness Testing
**Before/After Comparison**:
1. **Baseline Test**: Ask Claude project questions without context
2. **Enhanced Test**: Same questions with generated context
3. **Quality Scoring**: Response accuracy, specificity, usefulness
4. **User Validation**: Project team confirms response quality

**Test Categories**:
- Domain knowledge questions
- Technical architecture queries
- Workflow and process questions
- Troubleshooting scenarios
- Code review and recommendations

### Context Quality Metrics
**Accuracy**: Does Claude understand project-specific concepts correctly?
**Specificity**: Are responses tailored to this project vs generic?
**Completeness**: Does context cover all critical project areas?
**Maintainability**: Can context be easily updated as project evolves?
**Efficiency**: Is token usage optimized for maximum value?

## Session State Management

**Context Evolution Tracking**:
- Changes tracked in `.claude-architect/context-state.json`
- Version history for context improvements
- User feedback integration for continuous improvement
- Performance metrics for optimization guidance

**Integration Points**:
- Research patterns database informs context content
- Consultation intelligence drives context architecture
- Agent development benefits from specialized context
- Session management enables pause/resume during generation

## Success Metrics

**Context Effectiveness**:
- Claude response quality improvement (before/after testing)
- User satisfaction with project-specific responses
- Reduction in context corrections needed
- Time savings in explanation and clarification

**System Performance**:
- Token usage efficiency (value per token)
- Context loading performance
- User productivity with enhanced Claude
- Team onboarding speed improvement

---

**Remember**: Context engineering is about creating genuine project intelligence, not just documentation. Every context file should make Claude measurably better at understanding and assisting with your specific project.