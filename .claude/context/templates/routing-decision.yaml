# Routing Decision Artifact Template
# Use this when making command selection decisions

artifact:
  id: "${TIMESTAMP}-routing-${HASH}"
  version: "1.0.0"
  type: "routing"
  timestamp: "${ISO_TIMESTAMP}"
  session_id: "${SESSION_ID}"
  
  metadata:
    priority: "high"  # Routing decisions are high priority
    preserve_until: "${PRESERVE_DATE}"
    compression_safe: true
    cross_references: []
    tags: ["routing", "command-selection"]
    
  context:
    user_request: "${USER_REQUEST}"
    current_state:
      files_modified: []
      tests_status: "${TEST_STATUS}"
      active_issues: []
    environment:
      working_directory: "${PWD}"
      git_branch: "${GIT_BRANCH}"
      framework_version: "2.3.0"
      
  decision:
    type: "command_selection"
    rationale: "${ROUTING_RATIONALE}"
    components_analyzed:
      file_count: ${FILE_COUNT}
      line_count: ${LINE_COUNT}
      dependency_count: ${DEPENDENCY_COUNT}
      test_count: ${TEST_COUNT}
      complexity_factors:
        - factor: "multi_file_changes"
          present: ${MULTI_FILE}
          weight: 10
        - factor: "requires_architecture"
          present: ${NEEDS_ARCH}
          weight: 20
        - factor: "cross_module_dependencies"
          present: ${CROSS_MODULE}
          weight: 15
        - factor: "requires_research"
          present: ${NEEDS_RESEARCH}
          weight: 5
    chosen_path: "${SELECTED_COMMAND}"
    alternatives_considered:
      - path: "/task"
        reason_rejected: "${TASK_REJECTION_REASON}"
      - path: "/feature"
        reason_rejected: "${FEATURE_REJECTION_REASON}"
      - path: "/swarm"
        reason_rejected: "${SWARM_REJECTION_REASON}"
    confidence_level: ${CONFIDENCE}
    
  execution:
    command_used: "${COMMAND}"
    modules_invoked: ${MODULES}
    start_time: "${START_TIME}"
    end_time: null
    status: "pending"
    
  outcomes:
    files_created: []
    files_modified: []
    tests_added: 0
    tests_passing: 0
    issues_resolved: []
    errors_encountered: []
    recovery_actions: []
    
  audit_trail:
    - timestamp: "${TIMESTAMP}"
      action: "Routing decision made"
      details: "Selected ${COMMAND} based on component analysis"