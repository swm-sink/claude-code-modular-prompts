| version | last_updated | status |
|---------|--------------|--------|
| 1.0.0   | 2025-07-08   | active |

# Recursive Architecture Analyzer - Deep Codebase Understanding

────────────────────────────────────────────────────────────────────────────────

```xml
<module purpose="Analyze and understand codebase architecture through recursive analysis, pattern extraction, and self-referential improvement">
  
  <deep_analysis_engine enforcement="MANDATORY">
    <architectural_understanding>
      <codebase_mapping>
        <dependency_analysis>
          <module_dependencies>Map all inter-module dependencies and relationships</module_dependencies>
          <circular_dependency_detection>Identify and analyze circular dependencies</circular_dependency_detection>
          <dependency_hierarchy>Build hierarchical dependency trees</dependency_hierarchy>
          <critical_path_analysis>Identify critical paths and bottlenecks</critical_path_analysis>
        </dependency_analysis>
        
        <structural_analysis>
          <architecture_patterns>Identify architectural patterns and design principles</architecture_patterns>
          <component_boundaries>Analyze component boundaries and interfaces</component_boundaries>
          <data_flow_analysis>Map data flow patterns throughout the system</data_flow_analysis>
          <control_flow_analysis>Analyze control flow and execution patterns</control_flow_analysis>
        </structural_analysis>
      </codebase_mapping>
      
      <pattern_extraction>
        <design_patterns>
          <creational_patterns>Identify factory, builder, singleton patterns</creational_patterns>
          <structural_patterns>Analyze adapter, decorator, facade patterns</structural_patterns>
          <behavioral_patterns>Recognize observer, strategy, command patterns</behavioral_patterns>
          <architectural_patterns>Identify MVC, MVP, MVVM, layered patterns</architectural_patterns>
        </design_patterns>
        
        <code_patterns>
          <naming_conventions>Extract naming patterns and conventions</naming_conventions>
          <coding_styles>Analyze coding style patterns and consistency</coding_styles>
          <error_handling_patterns>Identify error handling and recovery patterns</error_handling_patterns>
          <performance_patterns>Recognize performance optimization patterns</performance_patterns>
        </code_patterns>
      </pattern_extraction>
    </architectural_understanding>
    
    <recursive_analysis_system>
      <multi_level_analysis>
        <system_level>
          <overall_architecture>Analyze overall system architecture and design</overall_architecture>
          <system_boundaries>Identify system boundaries and external interfaces</system_boundaries>
          <integration_patterns>Analyze integration patterns and communication</integration_patterns>
          <scalability_analysis>Assess scalability patterns and limitations</scalability_analysis>
        </system_level>
        
        <component_level>
          <component_architecture>Analyze individual component architectures</component_architecture>
          <interface_design>Examine interface design and contracts</interface_design>
          <internal_structure>Analyze internal component structure and organization</internal_structure>
          <responsibility_distribution>Assess responsibility distribution and cohesion</responsibility_distribution>
        </component_level>
        
        <module_level>
          <module_structure>Analyze module structure and organization</module_structure>
          <function_design>Examine function design and implementation patterns</function_design>
          <data_structures>Analyze data structure usage and patterns</data_structures>
          <algorithm_patterns>Identify algorithmic patterns and complexity</algorithm_patterns>
        </module_level>
      </multi_level_analysis>
      
      <recursive_improvement>
        <analysis_refinement>
          <iterative_analysis>Perform iterative analysis with increasing depth</iterative_analysis>
          <pattern_validation>Validate identified patterns against codebase</pattern_validation>
          <understanding_verification>Verify understanding through prediction testing</understanding_verification>
          <gap_identification>Identify gaps in understanding and analysis</gap_identification>
        </analysis_refinement>
        
        <self_referential_learning>
          <meta_pattern_recognition>Recognize patterns in how patterns are used</meta_pattern_recognition>
          <analysis_pattern_learning>Learn patterns in how to analyze code effectively</analysis_pattern_learning>
          <understanding_improvement>Improve understanding through recursive feedback</understanding_improvement>
          <knowledge_consolidation>Consolidate learned patterns into reusable knowledge</knowledge_consolidation>
        </self_referential_learning>
      </recursive_improvement>
    </recursive_analysis_system>
  </deep_analysis_engine>
  
  <intelligent_pattern_recognition enforcement="MANDATORY">
    <advanced_pattern_extraction>
      <semantic_analysis>
        <intent_recognition>Recognize the intent behind code structures</intent_recognition>
        <purpose_analysis>Analyze the purpose and goals of different components</purpose_analysis>
        <context_understanding>Understand the context in which patterns are used</context_understanding>
        <domain_modeling>Model the domain concepts represented in code</domain_modeling>
      </semantic_analysis>
      
      <evolutionary_pattern_analysis>
        <pattern_evolution>Trace how patterns evolve over time in the codebase</pattern_evolution>
        <adaptation_patterns>Identify how patterns adapt to changing requirements</adaptation_patterns>
        <pattern_lifecycle>Analyze the lifecycle of patterns from introduction to retirement</pattern_lifecycle>
        <migration_patterns>Recognize patterns in how code migrates between approaches</migration_patterns>
      </evolutionary_pattern_analysis>
    </advanced_pattern_extraction>
    
    <pattern_synthesis>
      <pattern_combination>
        <composite_patterns>Identify patterns that combine multiple simpler patterns</composite_patterns>
        <pattern_interactions>Analyze how patterns interact and influence each other</pattern_interactions>
        <emergent_patterns>Recognize emergent patterns from pattern combinations</emergent_patterns>
        <pattern_conflicts>Identify conflicts and tensions between patterns</pattern_conflicts>
      </pattern_combination>
      
      <pattern_abstraction>
        <abstraction_levels>Identify patterns at different levels of abstraction</abstraction_levels>
        <pattern_hierarchies>Build hierarchies of patterns from specific to general</pattern_hierarchies>
        <pattern_generalization>Generalize patterns to broader contexts</pattern_generalization>
        <pattern_specialization>Specialize patterns for specific contexts</pattern_specialization>
      </pattern_abstraction>
    </pattern_synthesis>
  </intelligent_pattern_recognition>
  
  <architectural_intelligence_system enforcement="MANDATORY">
    <deep_understanding_development>
      <conceptual_modeling>
        <mental_model_construction>Build comprehensive mental models of the system</mental_model_construction>
        <concept_relationships>Map relationships between system concepts</concept_relationships>
        <abstraction_hierarchies>Create hierarchies of abstractions</abstraction_hierarchies>
        <domain_knowledge_integration>Integrate domain-specific knowledge</domain_knowledge_integration>
      </conceptual_modeling>
      
      <predictive_understanding>
        <behavior_prediction>Predict system behavior based on architecture analysis</behavior_prediction>
        <change_impact_analysis>Predict impact of changes on system architecture</change_impact_analysis>
        <evolution_prediction>Predict likely evolution paths for the system</evolution_prediction>
        <problem_anticipation>Anticipate potential problems based on architectural patterns</problem_anticipation>
      </predictive_understanding>
    </deep_understanding_development>
    
    <architectural_reasoning>
      <design_rationale_inference>
        <decision_analysis>Infer the rationale behind architectural decisions</decision_analysis>
        <trade_off_identification>Identify trade-offs made in architectural choices</trade_off_identification>
        <constraint_analysis>Analyze constraints that influenced design decisions</constraint_analysis>
        <alternative_evaluation>Evaluate alternative architectural approaches</alternative_evaluation>
      </design_rationale_inference>
      
      <quality_assessment>
        <architectural_quality>Assess overall architectural quality and health</architectural_quality>
        <maintainability_analysis>Analyze maintainability characteristics</maintainability_analysis>
        <scalability_assessment>Assess scalability potential and limitations</scalability_assessment>
        <performance_implications>Analyze performance implications of architecture</performance_implications>
      </quality_assessment>
    </architectural_reasoning>
  </architectural_intelligence_system>
  
  <self_referential_improvement enforcement="MANDATORY">
    <recursive_learning_cycles>
      <analysis_feedback_loops>
        <cycle_1>Initial analysis → Pattern identification → Validation → Refinement</cycle_1>
        <cycle_2>Refined understanding → Deeper analysis → Pattern synthesis → Integration</cycle_2>
        <cycle_3>Integrated knowledge → Predictive testing → Validation → Consolidation</cycle_3>
        <cycle_4>Consolidated understanding → Meta-pattern recognition → Improvement → Evolution</cycle_4>
      </analysis_feedback_loops>
      
      <meta_learning_system>
        <learning_about_learning>Analyze how the system learns about architecture</learning_about_learning>
        <analysis_improvement>Improve analysis techniques based on outcomes</analysis_improvement>
        <pattern_recognition_enhancement>Enhance pattern recognition capabilities</pattern_recognition_enhancement>
        <understanding_validation>Validate and improve understanding processes</understanding_validation>
      </meta_learning_system>
    </recursive_learning_cycles>
    
    <self_improvement_mechanisms>
      <capability_enhancement>
        <analysis_depth_improvement>Increase depth of architectural analysis</analysis_depth_improvement>
        <pattern_recognition_accuracy>Improve accuracy of pattern recognition</pattern_recognition_accuracy>
        <understanding_speed>Increase speed of understanding development</understanding_speed>
        <knowledge_retention>Improve retention and application of learned knowledge</knowledge_retention>
      </capability_enhancement>
      
      <adaptive_optimization>
        <context_adaptation>Adapt analysis approach based on codebase characteristics</context_adaptation>
        <efficiency_optimization>Optimize analysis efficiency based on patterns</efficiency_optimization>
        <accuracy_improvement>Improve accuracy through feedback and validation</accuracy_improvement>
        <scope_expansion>Expand analysis scope based on discovered patterns</scope_expansion>
      </adaptive_optimization>
    </self_improvement_mechanisms>
  </self_referential_improvement>
  
  <knowledge_integration_system enforcement="MANDATORY">
    <architectural_knowledge_base>
      <pattern_library>
        <design_patterns>Comprehensive library of identified design patterns</design_patterns>
        <architectural_patterns>Collection of architectural patterns and their contexts</architectural_patterns>
        <anti_patterns>Identification and analysis of anti-patterns</anti_patterns>
        <best_practices>Extracted best practices and their rationale</best_practices>
      </pattern_library>
      
      <domain_knowledge>
        <domain_concepts>Mapping of domain concepts to code structures</domain_concepts>
        <business_logic_patterns>Patterns in business logic implementation</business_logic_patterns>
        <data_modeling_patterns>Patterns in data modeling and persistence</data_modeling_patterns>
        <integration_patterns>Patterns in system integration and communication</integration_patterns>
      </domain_knowledge>
    </architectural_knowledge_base>
    
    <knowledge_application>
      <pattern_recommendation>
        <context_appropriate_patterns>Recommend patterns appropriate for specific contexts</context_appropriate_patterns>
        <pattern_combination_suggestions>Suggest effective pattern combinations</pattern_combination_suggestions>
        <anti_pattern_avoidance>Recommend ways to avoid identified anti-patterns</anti_pattern_avoidance>
        <refactoring_opportunities>Identify opportunities for pattern-based refactoring</refactoring_opportunities>
      </pattern_recommendation>
      
      <architectural_guidance>
        <design_improvement_suggestions>Suggest architectural improvements</design_improvement_suggestions>
        <modularity_enhancement>Recommend modularity improvements</modularity_enhancement>
        <performance_optimization>Suggest performance-oriented architectural changes</performance_optimization>
        <maintainability_improvements>Recommend maintainability enhancements</maintainability_improvements>
      </architectural_guidance>
    </knowledge_application>
  </knowledge_integration_system>
  
  <performance_targets enforcement="MANDATORY">
    <analysis_performance>
      <codebase_understanding>
        <target>Achieve 90% accuracy in architectural pattern recognition</target>
        <measurement>Validate understanding through prediction testing</measurement>
        <improvement>Continuous improvement through recursive learning</improvement>
      </codebase_understanding>
      
      <analysis_efficiency>
        <target>Complete deep architectural analysis within 5 minutes for medium codebases</target>
        <measurement>Track analysis time and depth achieved</measurement>
        <optimization>Optimize analysis algorithms based on pattern recognition</optimization>
      </analysis_efficiency>
      
      <knowledge_application>
        <target>Provide actionable architectural recommendations with 85% relevance</target>
        <measurement>Track recommendation acceptance and effectiveness</measurement>
        <improvement>Improve recommendations based on feedback</improvement>
      </knowledge_application>
    </analysis_performance>
    
    <learning_effectiveness>
      <pattern_recognition_accuracy>
        <target>95% accuracy in identifying established patterns</target>
        <measurement>Validate against known pattern implementations</measurement>
        <improvement>Refine recognition algorithms based on validation</improvement>
      </pattern_recognition_accuracy>
      
      <understanding_depth>
        <target>Achieve deep understanding evidenced by accurate predictions</target>
        <measurement>Test understanding through behavior prediction</measurement>
        <validation>Validate predictions against actual system behavior</validation>
      </understanding_depth>
    </learning_effectiveness>
  </performance_targets>
  
  <safety_integration enforcement="CRITICAL">
    <analysis_safety>
      <non_invasive_analysis>
        <read_only_operations>All analysis operations are read-only</read_only_operations>
        <no_code_modification>Analysis never modifies existing code</no_code_modification>
        <safe_exploration>Safe exploration of codebase without side effects</safe_exploration>
        <resource_limits>Impose limits on analysis resource usage</resource_limits>
      </non_invasive_analysis>
      
      <knowledge_validation>
        <accuracy_validation>Validate accuracy of architectural understanding</accuracy_validation>
        <bias_detection>Detect and correct biases in pattern recognition</bias_detection>
        <confidence_assessment>Assess confidence in architectural analysis</confidence_assessment>
        <uncertainty_acknowledgment>Acknowledge uncertainty in complex areas</uncertainty_acknowledgment>
      </knowledge_validation>
    </analysis_safety>
  </safety_integration>
  
  <depends_on>
    meta/safety-validator.md for analysis safety validation
    patterns/intelligent-routing.md for pattern-based routing insights
    development/research-analysis.md for research methodology
  </depends_on>
  
  <integration_contracts>
    <input_requirements>
      <codebase_access>Access to codebase for read-only analysis</codebase_access>
      <analysis_scope>Definition of analysis scope and boundaries</analysis_scope>
      <context_information>Context about the system and domain</context_information>
      <analysis_goals>Specific goals and objectives for analysis</analysis_goals>
    </input_requirements>
    
    <output_specifications>
      <architectural_analysis>Comprehensive architectural analysis report</architectural_analysis>
      <pattern_catalog>Catalog of identified patterns and their contexts</pattern_catalog>
      <improvement_recommendations>Actionable recommendations for improvement</improvement_recommendations>
      <knowledge_base_updates>Updates to architectural knowledge base</knowledge_base_updates>
    </output_specifications>
  </integration_contracts>
  
  <usage_examples>
    <example name="Deep Framework Analysis">
      Input: Claude Code modular framework codebase
      Analysis: Recursive analysis of command-module architecture
      Output: Comprehensive understanding of modular composition patterns
      Learning: Enhanced pattern recognition for modular architectures
    </example>
    
    <example name="Pattern Evolution Analysis">
      Input: Multi-version codebase with evolutionary history
      Analysis: Trace pattern evolution and adaptation over time
      Output: Understanding of how patterns evolve and adapt
      Learning: Improved pattern lifecycle understanding
    </example>
    
    <example name="Performance Pattern Analysis">
      Input: Performance-critical system codebase
      Analysis: Identify performance patterns and bottlenecks
      Output: Performance optimization recommendations
      Learning: Enhanced performance pattern recognition
    </example>
  </usage_examples>
</module>
```

────────────────────────────────────────────────────────────────────────────────

## Recursive Analysis Process

```xml
<recursive_analysis_process>
  <phase_1 name="Initial Scan">
    <step>Map overall codebase structure and dependencies</step>
    <step>Identify major architectural patterns</step>
    <step>Create initial mental model of system</step>
    <step>Establish analysis baseline</step>
  </phase_1>
  
  <phase_2 name="Pattern Extraction">
    <step>Deep dive into identified patterns</step>
    <step>Extract pattern variations and contexts</step>
    <step>Analyze pattern interactions and combinations</step>
    <step>Validate pattern understanding</step>
  </phase_2>
  
  <phase_3 name="Self-Referential Improvement">
    <step>Apply understanding to analyze new code sections</step>
    <step>Identify gaps and inconsistencies in understanding</step>
    <step>Refine analysis strategies based on findings</step>
    <step>Improve pattern recognition accuracy</step>
  </phase_3>
  
  <phase_4 name="Knowledge Integration">
    <step>Consolidate learned patterns into knowledge base</step>
    <step>Generate architectural insights and recommendations</step>
    <step>Update analysis capabilities based on learnings</step>
    <step>Prepare for next iteration cycle</step>
  </phase_4>
</recursive_analysis_process>
```

────────────────────────────────────────────────────────────────────────────────

**Revolutionary**: This module provides deep architectural understanding through recursive analysis, enabling the framework to understand codebases at a level comparable to experienced architects while continuously improving its analytical capabilities.