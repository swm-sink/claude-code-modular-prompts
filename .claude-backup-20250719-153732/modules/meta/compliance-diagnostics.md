| version | last_updated | status |
|---------|--------------|--------|
| 1.0.0   | 2025-07-16   | stable |

# Compliance Diagnostics Module

────────────────────────────────────────────────────────────────────────────────


────────────────────────────────────────────────────────────────────────────────

```xml
<module purpose="Intelligent compliance issue diagnosis and self-correction with root cause analysis and prevention strategies">
  
  <diagnostic_architecture enforcement="CRITICAL">
    <issue_analysis_engine>
      <compliance_issue_detection>
        <framework_violations>
          <tdd_violations>
            <detection>Identify instances where RED→GREEN→REFACTOR cycle was not followed</detection>
            <analysis>Analyze why TDD process was bypassed or incorrectly implemented</analysis>
            <root_cause>Implementation pressure, unclear requirements, testing complexity</root_cause>
            <correction>Implement proper TDD cycle with test-first approach</correction>
          </tdd_violations>
          
          <temporal_standard_violations>
            <detection>Identify use of outdated dates or incorrect format</detection>
            <analysis>Analyze why system date generation was not used</analysis>
            <root_cause>Manual date entry, cached values, incorrect date functions</root_cause>
            <correction>Update to current date using $(date '+%Y-%m-%d') format</correction>
          </temporal_standard_violations>
          
          <quality_gate_failures>
            <detection>Identify skipped or failed quality gates</detection>
            <analysis>Analyze which quality gates failed and why</analysis>
            <root_cause>Time pressure, incomplete understanding, technical limitations</root_cause>
            <correction>Address quality gate failures and ensure compliance</correction>
          </quality_gate_failures>
          
          <pattern_integration_failures>
            <detection>Identify missing or incorrect pattern integrations</detection>
            <analysis>Analyze why patterns were not properly integrated</analysis>
            <root_cause>Unclear requirements, pattern complexity, integration challenges</root_cause>
            <correction>Implement proper pattern integration per framework standards</correction>
          </pattern_integration_failures>
        </framework_violations>
        
        <structural_violations>
          <xml_structure_violations>
            <detection>Identify non-compliant XML structure in commands or modules</detection>
            <analysis>Analyze structural deviations from framework standards</analysis>
            <root_cause>Template errors, manual editing, incomplete understanding</root_cause>
            <correction>Correct XML structure to meet framework standards</correction>
          </xml_structure_violations>
          
          <thinking_pattern_violations>
            <detection>Identify missing or incorrect thinking pattern implementation</detection>
            <analysis>Analyze why thinking patterns were not properly implemented</analysis>
            <root_cause>Template omissions, complexity underestimation, time constraints</root_cause>
            <correction>Implement proper thinking patterns per framework requirements</correction>
          </thinking_pattern_violations>
          
          <version_table_violations>
            <detection>Identify incorrect version table format or outdated versions</detection>
            <analysis>Analyze version table inconsistencies</analysis>
            <root_cause>Manual updates, version drift, inconsistent maintenance</root_cause>
            <correction>Update version tables to current standards</correction>
          </version_table_violations>
        </structural_violations>
        
        <behavioral_violations>
          <safety_boundary_violations>
            <detection>Identify actions that violate framework safety boundaries</detection>
            <analysis>Analyze why safety boundaries were not respected</analysis>
            <root_cause>Unclear boundaries, urgent requirements, risk underestimation</root_cause>
            <correction>Rollback violations and implement safety compliance</correction>
          </safety_boundary_violations>
          
          <approval_process_bypasses>
            <detection>Identify instances where required approval was bypassed</detection>
            <analysis>Analyze why approval processes were not followed</analysis>
            <root_cause>Time pressure, unclear requirements, process complexity</root_cause>
            <correction>Implement proper approval workflows</correction>
          </approval_process_bypasses>
        </behavioral_violations>
      </compliance_issue_detection>
      
      <root_cause_analysis_system>
        <systematic_analysis>
          <multi_layer_analysis>
            <immediate_cause>What directly caused the compliance issue?</immediate_cause>
            <underlying_cause>What underlying factors contributed to the issue?</underlying_cause>
            <systemic_cause>What systemic factors enabled the issue?</systemic_cause>
            <cultural_cause>What cultural or process factors contributed?</cultural_cause>
          </multi_layer_analysis>
          
          <evidence_collection>
            <direct_evidence>Collect direct evidence of the compliance violation</direct_evidence>
            <contextual_evidence>Gather contextual information about the situation</contextual_evidence>
            <historical_evidence>Review historical patterns and similar issues</historical_evidence>
            <systemic_evidence>Analyze systemic factors that may have contributed</systemic_evidence>
          </evidence_collection>
          
          <impact_assessment>
            <immediate_impact>Assess immediate impact of the compliance issue</immediate_impact>
            <cascading_impact>Evaluate potential cascading effects</cascading_impact>
            <long_term_impact>Analyze long-term consequences if not addressed</long_term_impact>
            <systemic_impact>Assess impact on overall framework integrity</systemic_impact>
          </impact_assessment>
        </systematic_analysis>
        
        <pattern_recognition>
          <recurring_patterns>
            <issue_patterns>Identify patterns in compliance issues</issue_patterns>
            <causation_patterns>Recognize patterns in root causes</causation_patterns>
            <resolution_patterns>Identify patterns in successful resolutions</resolution_patterns>
            <prevention_patterns>Recognize patterns in effective prevention</prevention_patterns>
          </recurring_patterns>
          
          <correlation_analysis>
            <timing_correlations>Analyze timing correlations with compliance issues</timing_correlations>
            <context_correlations>Identify contextual factors correlated with issues</context_correlations>
            <complexity_correlations>Analyze correlation between complexity and compliance</complexity_correlations>
            <resource_correlations>Identify resource-related correlations</resource_correlations>
          </correlation_analysis>
        </pattern_recognition>
      </root_cause_analysis_system>
    </issue_analysis_engine>
    
    <intelligent_correction_system>
      <automated_corrections>
        <immediate_corrections>
          <date_corrections>
            <current_date_update>Automatically update to current date (2025-07-11)</current_date_update>
            <temporal_format_correction>Fix temporal format to YYYY-MM-DD standard</temporal_format_correction>
            <version_table_update>Update version tables with current date</version_table_update>
            <timestamp_standardization>Standardize timestamps to YYYY-MM-DD-HHMMSS-UTC format</timestamp_standardization>
          </date_corrections>
          
          <structure_corrections>
            <xml_structure_fix>Correct XML structure violations automatically</xml_structure_fix>
            <pattern_integration_fix>Add missing pattern integrations</pattern_integration_fix>
            <thinking_pattern_addition>Add missing thinking patterns to commands</thinking_pattern_addition>
            <quality_gate_integration>Integrate missing quality gates</quality_gate_integration>
          </structure_corrections>
          
          <format_corrections>
            <version_table_standardization>Standardize version table formats</version_table_standardization>
            <documentation_formatting>Correct documentation formatting issues</documentation_formatting>
            <markup_corrections>Fix markup and formatting errors</markup_corrections>
            <template_compliance>Ensure template compliance across components</template_compliance>
          </format_corrections>
        </immediate_corrections>
        
        <guided_corrections>
          <complex_issue_resolution>
            <tdd_cycle_implementation>
              <analysis>Analyze why TDD was not followed</analysis>
              <correction>Implement proper RED→GREEN→REFACTOR cycle</correction>
              <validation>Validate TDD implementation effectiveness</validation>
              <monitoring>Monitor ongoing TDD compliance</monitoring>
            </tdd_cycle_implementation>
            
            <quality_gate_restoration>
              <analysis>Identify which quality gates were bypassed</analysis>
              <correction>Implement missing quality gate validations</correction>
              <integration>Integrate quality gates into workflow</integration>
              <enforcement>Enforce quality gate compliance</enforcement>
            </quality_gate_restoration>
            
            <safety_boundary_restoration>
              <analysis>Identify safety boundary violations</analysis>
              <rollback>Rollback violating changes</rollback>
              <correction>Implement safety-compliant solutions</correction>
              <validation>Validate safety boundary compliance</validation>
            </safety_boundary_restoration>
          </complex_issue_resolution>
          
          <systemic_corrections>
            <process_improvements>
              <workflow_enhancement>Enhance workflows to prevent compliance issues</workflow_enhancement>
              <checkpoint_integration>Integrate compliance checkpoints</checkpoint_integration>
              <validation_automation>Automate validation processes</validation_automation>
              <monitoring_enhancement>Enhance monitoring capabilities</monitoring_enhancement>
            </process_improvements>
            
            <education_integration>
              <compliance_training>Develop compliance training materials</compliance_training>
              <best_practice_documentation>Document best practices</best_practice_documentation>
              <learning_resources>Create learning resources for common issues</learning_resources>
              <knowledge_sharing>Implement knowledge sharing mechanisms</knowledge_sharing>
            </education_integration>
          </systemic_corrections>
        </guided_corrections>
      </automated_corrections>
      
      <validation_system>
        <correction_validation>
          <effectiveness_verification>
            <compliance_restoration>Verify compliance is fully restored</compliance_restoration>
            <functionality_preservation>Ensure functionality is maintained</functionality_preservation>
            <integration_validation>Validate integration with existing framework</integration_validation>
            <performance_impact>Assess performance impact of corrections</performance_impact>
          </effectiveness_verification>
          
          <quality_assurance>
            <correction_quality>Ensure corrections meet quality standards</correction_quality>
            <completeness_verification>Verify corrections are complete</completeness_verification>
            <sustainability_assessment>Assess sustainability of corrections</sustainability_assessment>
            <side_effect_analysis>Analyze potential side effects</side_effect_analysis>
          </quality_assurance>
        </correction_validation>
        
        <prevention_validation>
          <prevention_effectiveness>
            <mechanism_validation>Validate prevention mechanisms</mechanism_validation>
            <coverage_assessment>Assess prevention coverage</coverage_assessment>
            <sustainability_verification>Verify prevention sustainability</sustainability_verification>
            <integration_validation>Validate prevention integration</integration_validation>
          </prevention_effectiveness>
          
          <monitoring_validation>
            <detection_capability>Validate detection capabilities</detection_capability>
            <response_mechanism>Validate response mechanisms</response_mechanism>
            <escalation_procedures>Validate escalation procedures</escalation_procedures>
            <feedback_integration>Validate feedback integration</feedback_integration>
          </monitoring_validation>
        </prevention_validation>
      </validation_system>
    </intelligent_correction_system>
  </diagnostic_architecture>
  
  <prevention_strategy_system enforcement="MANDATORY">
    <proactive_prevention>
      <early_detection_systems>
        <predictive_analytics>
          <compliance_risk_modeling>Model compliance risk based on patterns</compliance_risk_modeling>
          <issue_prediction>Predict potential compliance issues</issue_prediction>
          <prevention_timing>Optimize timing of prevention interventions</prevention_timing>
          <resource_allocation>Allocate prevention resources effectively</resource_allocation>
        </predictive_analytics>
        
        <monitoring_enhancement>
          <real_time_monitoring>Implement real-time compliance monitoring</real_time_monitoring>
          <threshold_monitoring>Monitor compliance thresholds</threshold_monitoring>
          <pattern_monitoring>Monitor for compliance issue patterns</pattern_monitoring>
          <anomaly_detection>Detect anomalies that may indicate issues</anomaly_detection>
        </monitoring_enhancement>
      </early_detection_systems>
      
      <process_improvements>
        <workflow_optimization>
          <compliance_integration>Integrate compliance into workflows</compliance_integration>
          <checkpoint_automation>Automate compliance checkpoints</checkpoint_automation>
          <validation_streamlining>Streamline validation processes</validation_streamlining>
          <feedback_integration>Integrate feedback into processes</feedback_integration>
        </workflow_optimization>
        
        <education_and_training>
          <compliance_awareness>Develop compliance awareness programs</compliance_awareness>
          <best_practice_sharing>Share best practices for compliance</best_practice_sharing>
          <learning_resources>Create comprehensive learning resources</learning_resources>
          <continuous_education>Implement continuous education programs</continuous_education>
        </education_and_training>
      </process_improvements>
    </proactive_prevention>
    
    <reactive_improvements>
      <learning_systems>
        <issue_learning>
          <pattern_extraction>Extract patterns from compliance issues</pattern_extraction>
          <solution_library>Build library of proven solutions</solution_library>
          <prevention_knowledge>Accumulate prevention knowledge</prevention_knowledge>
          <effectiveness_tracking>Track prevention effectiveness</effectiveness_tracking>
        </issue_learning>
        
        <continuous_improvement>
          <process_refinement>Refine processes based on learning</process_refinement>
          <tool_enhancement>Enhance tools based on issue patterns</tool_enhancement>
          <methodology_evolution>Evolve methodology based on experience</methodology_evolution>
          <culture_development>Develop culture of continuous improvement</culture_development>
        </continuous_improvement>
      </learning_systems>
      
      <adaptive_systems>
        <dynamic_adjustment>
          <threshold_adjustment>Adjust thresholds based on performance</threshold_adjustment>
          <process_adaptation>Adapt processes based on issue patterns</process_adaptation>
          <resource_reallocation>Reallocate resources based on needs</resource_reallocation>
          <priority_adjustment>Adjust priorities based on impact</priority_adjustment>
        </dynamic_adjustment>
        
        <feedback_integration>
          <user_feedback>Integrate user feedback into improvements</user_feedback>
          <system_feedback>Use system feedback for optimization</system_feedback>
          <performance_feedback>Integrate performance feedback</performance_feedback>
          <learning_feedback>Use learning feedback for enhancement</learning_feedback>
        </feedback_integration>
      </adaptive_systems>
    </reactive_improvements>
  </prevention_strategy_system>
  
  <diagnostic_knowledge_base enforcement="MANDATORY">
    <issue_taxonomy>
      <compliance_categories>
        <framework_compliance>Issues related to framework standard compliance</framework_compliance>
        <quality_compliance>Issues related to quality gate compliance</quality_compliance>
        <safety_compliance>Issues related to safety boundary compliance</safety_compliance>
        <process_compliance>Issues related to process compliance</process_compliance>
      </compliance_categories>
      
      <severity_classification>
        <critical>Safety violations, security breaches, framework instability</critical>
        <high>Quality gate failures, significant compliance gaps</high>
        <medium>Process violations, documentation issues</medium>
        <low>Minor formatting issues, non-critical gaps</low>
      </severity_classification>
    </issue_taxonomy>
    
    <solution_library>
      <proven_solutions>
        <tdd_implementation>Proven approaches for TDD implementation</tdd_implementation>
        <quality_gate_integration>Effective quality gate integration methods</quality_gate_integration>
        <safety_compliance>Safety boundary compliance strategies</safety_compliance>
        <process_improvement>Process improvement methodologies</process_improvement>
      </proven_solutions>
      
      <best_practices>
        <prevention_strategies>Best practices for preventing compliance issues</prevention_strategies>
        <detection_methods>Effective methods for detecting compliance issues</detection_methods>
        <correction_approaches>Optimal approaches for correcting issues</correction_approaches>
        <validation_techniques>Effective validation techniques</validation_techniques>
      </best_practices>
    </solution_library>
  </diagnostic_knowledge_base>
  
  <success_metrics>
    <diagnostic_effectiveness>
      <issue_detection_rate>Percentage of compliance issues detected</issue_detection_rate>
      <root_cause_accuracy>Accuracy of root cause identification</root_cause_accuracy>
      <correction_success_rate>Percentage of successful corrections</correction_success_rate>
      <prevention_effectiveness>Effectiveness of prevention strategies</prevention_effectiveness>
    </diagnostic_effectiveness>
    
    <system_performance>
      <response_time>Time from issue detection to resolution</response_time>
      <accuracy_rate>Accuracy of diagnostic analysis</accuracy_rate>
      <learning_effectiveness>Effectiveness of learning integration</learning_effectiveness>
      <user_satisfaction>User satisfaction with diagnostic system</user_satisfaction>
    </system_performance>
  </success_metrics>
  
  <integration_points>
    <command_integration>
      <meta_fix_command>Primary integration with /meta-fix command</meta_fix_command>
      <diagnostic_triggers>Integration with other commands for diagnostics</diagnostic_triggers>
      <correction_coordination>Coordination with correction workflows</correction_coordination>
    </command_integration>
    
    <module_dependencies>
      <governance_enforcer>Integration with governance-enforcer for compliance</governance_enforcer>
      <framework_auditor>Integration with framework-auditor for issue identification</framework_auditor>
      <safety_validator>Integration with safety-validator for safety compliance</safety_validator>
      <quality_gates>Integration with quality gate modules</quality_gates>
    </module_dependencies>
  </integration_points>
</module>
```